<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="author" content="westtle">
	<meta name="description" content="Daniel Morrisey's awesome blog. Design by westtle.">
	<meta name="keywords" content="Daniel Morrisey, Danny Morrisey, Made by Danny, Funtimeswithdanny, Funtimes Media, Blog, Blog Template">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Danny's Blog</title>
    <script src="https://kit.fontawesome.com/0ca27f8db1.js" crossorigin="anonymous"></script>
	<script src="/assets/script/script.js"></script>
	<link rel="icon" type="image/x-icon" href="https://portfolio-1hx.pages.dev/assets/images/pfp.png">
	<link rel="stylesheet" type="text/css" href="./assets/styles/style.css">
	<link rel="stylesheet" type="text/css" href="./assets/styles/article.css">
	<script src="./assets/js/top-btn.js"></script>
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZT332PH988"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZT332PH988');
</script>
</head>
<body>
	<header class="container__">
		<h1 class="__header-title"><a href="/index.html">Danny's Blog</a></h1>
		<nav class="__header-nav">
			<ul>
				<li><a class="current-page__" href=":index.html">Home</a></li>
				<li><a href="/assets/html/about.html">About</a></li>
				<li><a href="/assets/html/posts.html">Posts</a></li>
			 <li><a href="https://danielmorrisey.start.page"><i class="fa-brands fa-buffer"></i></a></li>
				<li><a href="https://github.com/therealfuntimeswithdanny"><i class="fa-brands fa-github"></i></a></li>
				<li><a href="https://bsky.app/profile/madebydanny.uk"><i class="fa-brands fa-bluesky"></i></a></li>
			</ul>
		</nav>
	</header>
	<main class="container__">
		<h1>Search</h1>
  <div class="search-box">
    <!-- Single search input -->
    <input type="text" id="searchInput" placeholder="Enter search terms..." onkeyup="performSearch()">
    <!-- Dropdown for selecting the search category -->
    <select id="searchCategory" onchange="performSearch()">
      <option value="all">All</option>
      <option value="name">Name/Description</option>
      <option value="tags">Tags</option>
      <option value="date">Date</option>
      <option value="author">Author</option>
    </select>
  </div>
  <div id="searchResults">
    <!-- Search results will be displayed here -->
  </div>
		<div id="notice">
			Design by: <a href="https://github.com/westtle/simple-blog-template" target="_blank">westtle on Github</a>
		</div>
		<button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa-solid fa-arrow-up fa-bounce"></i></button>
	</main>
<!-- Default Statcounter code for MBD
http://funtimesmedia.uk -->
<script type="text/javascript">
var sc_project=13076918; 
var sc_invisible=1; 
var sc_security="cf828171"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="real time web
analytics" href="https://statcounter.com/"
target="_blank"><img class="statcounter"
src="https://c.statcounter.com/13076918/0/cf828171/1/"
alt="real time web analytics"
referrerPolicy="no-referrer-when-downgrade"></a></div></noscript>
<!-- End of Statcounter Code -->
	<footer>
		<p class="__footer-copyright">&copy; 2025-2029 Made by Danny, <i>A Funtimes Media Company</i></p>
</body>


  <!-- Include the external database file -->
  <script src="/assets/script/search.js"></script>
  <script>
    // Function to create a result element using an item's details
    function createResultItem(item) {
      const div = document.createElement("div");
      div.className = "result-item";
  
      const link = document.createElement("a");
      link.href = item.link;
      link.target = "_blank";
      link.textContent = item.name;
  
      const desc = document.createElement("div");
      desc.className = "result-description";
      desc.textContent = item.description;
  
      div.appendChild(link);
      div.appendChild(desc);
  
      return div;
    }
  
    // Function to display all items
    function displayAllItems() {
      const resultsContainer = document.getElementById("searchResults");
      resultsContainer.innerHTML = "";
      items.forEach(item => {
        resultsContainer.appendChild(createResultItem(item));
      });
    }
  
    // Function to filter and display items based on the search query and selected category
    function performSearch() {
      const query = document.getElementById("searchInput").value.trim().toLowerCase();
      const category = document.getElementById("searchCategory").value;
      const resultsContainer = document.getElementById("searchResults");
      resultsContainer.innerHTML = "";
  
      // If there's no query, simply display all items
      if (query === "") {
        displayAllItems();
        return;
      }
  
      const filteredResults = items.filter(item => {
        if (category === "all") {
          // Searches across all attributes
          return (
            item.name.toLowerCase().includes(query) ||
            item.description.toLowerCase().includes(query) ||
            (item.tags && item.tags.some(tag => tag.toLowerCase().includes(query))) ||
            (item.date && item.date.includes(query)) ||
            (item.author && item.author.toLowerCase().includes(query))
          );
        } else if (category === "name") {
          return (
            item.name.toLowerCase().includes(query) ||
            item.description.toLowerCase().includes(query)
          );
        } else if (category === "tags") {
          return item.tags && item.tags.some(tag => tag.toLowerCase().includes(query));
        } else if (category === "date") {
          // For dates, a simple string match is used; format the date as YYYY-MM-DD in the data
          return item.date && item.date.includes(query);
        } else if (category === "author") {
          return item.author && item.author.toLowerCase().includes(query);
        }
        return false;
      });
  
      filteredResults.forEach(item => {
        resultsContainer.appendChild(createResultItem(item));
      });
    }
  
    // Initially display all items on page load
    displayAllItems();
  </script>
</body>
</html>
